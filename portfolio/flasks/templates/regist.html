{% extends 'base.html' %}

{% block title %}
<title>Regist</title>
{% endblock title %}

{% block body %}
<p>this is regist.html</p>
<form name="regist-form" method="POST" action="/auth/regist" onsubmit="return gw()">
    <label for="userid">User ID</label>
    <input type="text" name="userid" id="userid">
    <label for="username">User Name</label>
    <input type="text" name="username" id ="username" autocomplete="username">
    <label for="password1">Password1</label>
    <input type="password" name="password1" id="password1" autocomplete="current-password">
    <label for="password2">Password2</label>
    <input type="password" name="password2" id="password2" autocomplete="current-password">    
    <button>Submit</button>
</form>
{% endblock body %}

{% block script %}
<script>
    
function gw(){
    if(!!check_form()){
        return true
    }
    return false
}

function check_form() {
    var data = { userid : document.getElementById('userid').value,
                username : document.getElementById('username').value,
                password1 : document.getElementById('password1').value,
                password2 : document.getElementById('password2').value
    }

    if(!!data.userid || !!data.username){
        if(data.password1 != data.password2){
            alert("비밀번호를 재확인해 주세요.")        
            return false
        }
    }

    if(!!data.userid && !!data.username && !!data.password1 && !!data.password2){   
        return true
    }

    alert("필수정보를 입력하여 주세요.")
    return false
}
</script>
{% endblock script %}